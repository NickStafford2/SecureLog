# Compiler
CXX = g++
CXXFLAGS = -Wall -Wextra -std=c++11

# OpenSSL Libraries
OPENSSL_LIBS = -lssl -lcrypto

# Source Files
SRCS = logappend.cpp logread.cpp crypto.cpp

# Executable Names
EXEC_LOGAPPEND = logappend
EXEC_LOGREAD = logread

# Build Targets
all: $(EXEC_LOGAPPEND) $(EXEC_LOGREAD)

$(EXEC_LOGAPPEND): logappend.o crypto.o
	$(CXX) -o $@ $^ $(OPENSSL_LIBS)

$(EXEC_LOGREAD): logread.o crypto.o
	$(CXX) -o $@ $^ $(OPENSSL_LIBS)

# Compile Source Files to Object Files
%.o: %.cpp
	$(CXX) $(CXXFLAGS) -c $< -o $@

# Clean up build files
clean:
	rm -f *.o $(EXEC_LOGAPPEND) $(EXEC_LOGREAD)

.PHONY: all clean
